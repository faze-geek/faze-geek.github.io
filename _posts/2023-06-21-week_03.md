---
title: Week 3 
layout: post
description: null
image: null
open_blog: true
suburl: "2026/06/21/week_03.html"
---
**Pull Request 2**
.... Hello everyone, hope this blog finds you well.

Last week, my primary focus was on successfully submitting Pull Request 1, and I'm glad to share that I was able to accomplish that goal. With that achievement behind me, I promptly shifted my attention towards Pull Request 2. This particular request revolves around the graphical analysis of the control module, requiring the development of various plot-related functions. These functions are crucial for analyzing transfer functions and assessing their stabilities.

Undoubtedly, it has been a challenging week for me. There were moments when my confidence wavered. Currently, I have addressed the comments and feedback received, ensuring that the Pull Request is in the best possible state. It now stands still, awaiting further consideration. 

**Aim :**

My purpose this week was to add the **Root_Locus Plot** and **Nichols Plot** to control plots of Sympy-Physics.

I have made the pull request here - [#25251](https://github.com/sympy/sympy/pull/25251). 

**Work : Let us go through the Pull Request and the reviews I addressed in brief.**

- Hosting of images for HTML page : If you remember my progress upto last week, hosting of images was a challenge which I was trying to figure out. I had hosted them at my [GSOC-Images](https://github.com/faze-geek/GSOC-Images) repository and added links in my code. To figure out a permanent solution, I used SVG images. I had to draw them first and commit them. One blocker which I came across here was rendering the HTML page in dark mode. It was a pre-existing issue in SymPy : [#24695](https://github.com/sympy/sympy/issues/24695) SVG images in the docs are not visible in dark mode. So I planned to improvise and use colors that could be seen with both white and black backgrounds **: )**  


- Another development in this pull request was how I would add **plots** in the page. Instead of converting the images to SVG's, I used the **plot** directive- a sphinx extension for embedded plots. Now the plots will be dynamically generated every time the page gets loaded instead of being statically placed in the code as an images.



- Another review which I addressed deals with rendering of the math equations.  [Jason](https://github.com/moorepants) suggested that the **math** directive should be used instead of opening and closing the equations with `$`. They provide better rendering and formatting of lines due to the latex alignment environment.

Some challenges on this pull request made me discuss my concerns with the SymPy community as follows - 
1. [#25183](https://github.com/sympy/sympy/discussions/25183) - How to plot multiple functions efficiently over the same points.
This discussion was started to sample `magnitude` and `phase` functions of Bode's Analysis accurately. It also contributed to this [issue](https://github.com/sympy/sympy/issues/25190) which is irrelevant to this pull request.


**Observations and Challenges :**

As of now, the pull request is not progressing in the right direction as the following comments are partially addressed. 
Here are the blockers I see in addressing these suggestions successfully.
- [Oscar's comment](https://github.com/sympy/sympy/pull/25251#discussion_r1233020164)
  
1. Coloring the plot - In Root-Locus plot separate branches are supposed to be colored differently. On following this suggesstion we will have a plot with the same color for every branch which fails the idea of visual clarity and effective analysis.
2. Performance margins - This suggestion is not improving the performance by a great extent. It optimizes the sampling of points only on the real axis. If you go through the current code, hardly some points are sampled on the real axis. Most points are sampled on the curve, which would be needed anyways if this suggestion is applied. The minute improvement will be compensated with the additional computation the code would require and also it won't be of any help when the root-locus plot is not on formed on the x axis (all intervals of the parametric equation have imaginary roots).
3. The suggestion seems a bit non intuitive and random to implement, I would appreciate if an end to end approach is designed instead of it. These issues make me question if this suggestion is more complicated than it's worth.
   
- [Jason's comment](https://github.com/sympy/sympy/pull/25251#issuecomment-1596098121)
  
1. Lack of required functionalitites in SymPy's plotting moduele - I have attempted to replace the Matplotlib plot entirely with SymPy plot. But as of now SymPy cannot link two lists containing points collected using functions sampled on the same set of distributed points.
2. As a user in this day and age, speed and resposiveness is an important attribute of any software. Matplotlib plots are about `1000x`
 times faster than pure SymPy.

**Future Work :**
In the upcoming week, I would want to come to a conclusion regarding how this Pull Request should be handled. I would recommend merging it in this current state if we cannot improve upon it, since it is clearly a helpful addition. Thanks !
